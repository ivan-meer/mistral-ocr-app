# üõ†Ô∏è –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —É—Å—Ç–∞–Ω–æ–≤–∫–∏ PyMuPDF

## üîç –ü—Ä–æ–±–ª–µ–º–∞
PyMuPDF –ø—ã—Ç–∞–µ—Ç—Å—è —Å–∫–∞—á–∞—Ç—å –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –≤–æ –≤—Ä–µ–º—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏ –ø–æ–ª—É—á–∞–µ—Ç —Ç–∞–π–º–∞—É—Ç —Å–µ—Ç–∏.

## ‚úÖ –†–µ—à–µ–Ω–∏—è (–ø–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ –ø–æ—Ä—è–¥–∫—É)

### **–í–∞—Ä–∏–∞–Ω—Ç 1: –ü—Ä–µ–¥–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ wheels (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø)**

```powershell
# –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≥–æ—Ç–æ–≤—É—é –≤–µ—Ä—Å–∏—é
pip install --only-binary=all PyMuPDF

# –ï—Å–ª–∏ –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –±–æ–ª–µ–µ –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é
pip install PyMuPDF

# –ò–ª–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é —Å—Ç–∞–±–∏–ª—å–Ω—É—é –≤–µ—Ä—Å–∏—é
pip install PyMuPDF==1.24.12
```

### **–í–∞—Ä–∏–∞–Ω—Ç 2: –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ Pillow**

```powershell
# –°–Ω–∞—á–∞–ª–∞ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ç–æ–ª—å–∫–æ Pillow
pip install Pillow==10.2.0

# –ü–æ–ø—Ä–æ–±—É–π—Ç–µ PyMuPDF –ø–æ–∑–∂–µ
pip install --timeout=1000 PyMuPDF
```

### **–í–∞—Ä–∏–∞–Ω—Ç 3: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —á–µ—Ä–µ–∑ conda (–µ—Å–ª–∏ –µ—Å—Ç—å)**

```powershell
# –ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å conda
conda install -c conda-forge pymupdf

# –ò–ª–∏
conda install pymupdf pillow
```

### **–í–∞—Ä–∏–∞–Ω—Ç 4: –ó–∞–ø—É—Å–∫ –ë–ï–ó PyMuPDF (–≤—Ä–µ–º–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ)**

```powershell
# –ü—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
python app.py
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –±–µ–∑ fallback –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π.

## üöÄ –ß—Ç–æ –ø–æ–ª—É—á–∏—Ç–µ –≤ –∫–∞–∂–¥–æ–º —Å–ª—É—á–∞–µ

### ‚úÖ **–° PyMuPDF (–ø–æ–ª–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å):**
```
INFO: PyMuPDF —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω - fallback –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –¥–æ—Å—Ç—É–ø–Ω–æ
INFO: Pillow —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –¥–æ—Å—Ç—É–ø–Ω–∞
* Running on http://0.0.0.0:5000
```

- –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç
- –†–µ–∂–∏–º —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –ø–æ–ª–Ω–æ—Å—Ç—å—é –¥–æ—Å—Ç—É–ø–µ–Ω
- –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏–∑ PDF
- –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü PDF –≤ PNG

### ‚ö†Ô∏è **–ë–ï–ó PyMuPDF (–±–∞–∑–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å):**
```
WARNING: PyMuPDF –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ: pip install PyMuPDF==1.23.26
INFO: Pillow —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –¥–æ—Å—Ç—É–ø–Ω–∞
* Running on http://0.0.0.0:5000
```

- ‚úÖ Mistral OCR API —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ SVG-–ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä—ã —Å–æ–∑–¥–∞—é—Ç—Å—è
- ‚úÖ –†–µ–∞–ª—å–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (–µ—Å–ª–∏ API –≤–µ—Ä–Ω–µ—Ç base64)
- ‚ùå Fallback –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –∏–∑ PDF –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ
- ‚ùå –†–µ–∂–∏–º —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω

## üéØ –ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç

–ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–µ–π—á–∞—Å:

```powershell
# 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Pillow (–¥–æ–ª–∂–Ω–æ —Å—Ä–∞–±–æ—Ç–∞—Ç—å)
pip install Pillow==10.2.0

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (–¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å)
python app.py

# 3. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ PyMuPDF –ø–æ–∑–∂–µ
pip install --only-binary=all PyMuPDF
```

## üìû –ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ–º–æ–≥–∞–µ—Ç

**–í–∞—Ä–∏–∞–Ω—Ç —Ñ–∏–Ω–∞–ª—å–Ω—ã–π**: –û–±–Ω–æ–≤–∏—Ç–µ requirements.txt

```txt
flask==3.1.0
Werkzeug>=3.1.0
mistralai==1.5.1
python-dotenv==1.0.0
python-multipart==0.0.9
requests==2.31.0
markdown==3.6
Flask-CORS
# PyMuPDF==1.23.26  # –ó–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ –∏–∑-–∑–∞ –ø—Ä–æ–±–ª–µ–º —É—Å—Ç–∞–Ω–æ–≤–∫–∏
Pillow==10.2.0
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –±–∞–∑–æ–≤–æ–º —Ä–µ–∂–∏–º–µ —Å –æ—Ç–ª–∏—á–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å—é OCR.